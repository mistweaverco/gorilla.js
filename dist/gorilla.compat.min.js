"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(r){if("object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=r();else if("function"==typeof define&&define.amd)define([],r);else{var t;"undefined"==typeof window?"undefined"==typeof global?"undefined"!=typeof self&&(t=self):t=global:t=window,t.Promise=r()}}(function(){return function p(r,t,e){function a(o,i){if(!t[o]){if(!r[o]){var s="function"==typeof _dereq_&&_dereq_;if(!i&&s)return s(o,!0);if(n)return n(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var l=t[o]={exports:{}};r[o][0].call(l.exports,function(t){var e=r[o][1][t];return a(e?e:t)},l,l.exports,p,r,t,e)}return t[o].exports}for(var n="function"==typeof _dereq_&&_dereq_,o=0;o<e.length;o++)a(e[o]);return a}({1:[function(r,t){"use strict";t.exports=function(r){function o(n){var t=new a(n),e=t.promise();return t.setHowMany(1),t.setUnwrap(),t.init(),e}var a=r._SomePromiseArray;r.any=function(e){return o(e)},r.prototype.any=function(){return o(this)}}},{}],2:[function(n,t){"use strict";function e(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new l(16),this._normalQueue=new l(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=c}function r(r,t,e){this._lateQueue.push(r,t,e),this._queueTick()}function i(r,t,e){this._normalQueue.push(r,t,e),this._queueTick()}function o(e){this._normalQueue._pushOne(e),this._queueTick()}var s;try{throw new Error}catch(e){s=e}var c=n("./schedule"),l=n("./queue"),d=n("./util");e.prototype.setScheduler=function(r){var t=this._schedule;return this._schedule=r,this._customScheduler=!0,t},e.prototype.hasCustomScheduler=function(){return this._customScheduler},e.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},e.prototype.disableTrampolineIfNecessary=function(){d.hasDevTools&&(this._trampolineEnabled=!1)},e.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},e.prototype.fatalError=function(r,t){t?(process.stderr.write("Fatal "+(r instanceof Error?r.stack:r)+"\n"),process.exit(2)):this.throwLater(r)},e.prototype.throwLater=function(r,n){if(1===arguments.length&&(n=r,r=function(){throw n}),"undefined"!=typeof setTimeout)setTimeout(function(){r(n)},0);else try{this._schedule(function(){r(n)})}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},d.hasDevTools?(e.prototype.invokeLater=function(o,t,e){this._trampolineEnabled?r.call(this,o,t,e):this._schedule(function(){setTimeout(function(){o.call(t,e)},100)})},e.prototype.invoke=function(r,t,e){this._trampolineEnabled?i.call(this,r,t,e):this._schedule(function(){r.call(t,e)})},e.prototype.settlePromises=function(e){this._trampolineEnabled?o.call(this,e):this._schedule(function(){e._settlePromises()})}):(e.prototype.invokeLater=r,e.prototype.invoke=i,e.prototype.settlePromises=o),e.prototype.invokeFirst=function(r,t,e){this._normalQueue.unshift(r,t,e),this._queueTick()},e.prototype._drainQueue=function(o){for(;0<o.length();){var t=o.shift();if("function"==typeof t){var e=o.shift(),n=o.shift();t.call(e,n)}else t._settlePromises()}},e.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},e.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},e.prototype._reset=function(){this._isTickUsed=!1},t.exports=e,t.exports.firstLineError=s},{"./queue":26,"./schedule":29,"./util":36}],3:[function(r,t){"use strict";t.exports=function(d,t,e,n){var r=!1,l=function(r,t){this._reject(t)},o=function(r,t){t.promiseRejectionQueued=!0,t.bindingPromise._then(l,l,null,this,r)},s=function(r,t){0==(50397184&this._bitField)&&this._resolveCallback(t.target)},a=function(r,t){t.promiseRejectionQueued||this._reject(r)};d.prototype.bind=function(i){r||(r=!0,d.prototype._propagateFrom=n.propagateFromFunction(),d.prototype._boundValue=n.boundValueFunction());var c=e(i),l=new d(t);l._propagateFrom(this,1);var _=this._target();if(l._setBoundTo(c),c instanceof d){var p={promiseRejectionQueued:!1,promise:l,target:_,bindingPromise:c};_._then(t,o,void 0,l,p),c._then(s,a,void 0,l,p),l._setOnCancel(c)}else l._resolveCallback(_);return l},d.prototype._setBoundTo=function(e){void 0===e?this._bitField=-2097153&this._bitField:(this._bitField=2097152|this._bitField,this._boundTo=e)},d.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},d.bind=function(t,e){return d.resolve(e).bind(t)}}},{}],4:[function(n,t){"use strict";function e(){try{Promise===a&&(Promise=r)}catch(e){}return a}var r;"undefined"!=typeof Promise&&(r=Promise);var a=n("./promise")();a.noConflict=e,t.exports=a},{"./promise":22}],5:[function(l,t){"use strict";var e=Object.create;if(e){var r=e(null),n=e(null);r[" size"]=n[" size"]=0}t.exports=function(p){function d(e,t){var n;if(null!=e&&(n=e[t]),"function"!=typeof n){var o="Object "+r.classString(e)+" has no method '"+r.toString(t)+"'";throw new p.TypeError(o)}return n}function n(n){var t=this.pop(),e=d(n,t);return e.apply(n,this)}function _(e){return e[this]}function i(r){var t=+this;return 0>t&&(t=Math.max(0,t+r.length)),r[t]}var e,r=l("./util"),o=r.canEvaluate;r.isIdentifier,p.prototype.call=function(r){var t=[].slice.call(arguments,1);return t.push(r),this._then(n,void 0,void 0,t,void 0)},p.prototype.get=function(n){var t;if("number"==typeof n)t=i;else if(o){var a=e(n);t=null===a?_:a}else t=_;return this._then(t,void 0,void 0,n,void 0)}}},{"./util":36}],6:[function(l,t){"use strict";t.exports=function(t,e,n,r){var i=l("./util"),o=i.tryCatch,s=i.errorObj,a=t._async;t.prototype["break"]=t.prototype.cancel=function(){if(!r.cancellation())return this._warn("cancellation is disabled");for(var o=this,a=o;o.isCancellable();){if(!o._cancelBy(a)){a._isFollowing()?a._followee().cancel():a._cancelBranched();break}var i=o._cancellationParent;if(null==i||!i.isCancellable()){o._isFollowing()?o._followee().cancel():o._cancelBranched();break}o._isFollowing()&&o._followee().cancel(),a=o,o=i}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||0>=this._branchesRemainingToCancel},t.prototype._cancelBy=function(e){return e===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this.isCancellable()&&(this._setCancelled(),a.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){0<this._length()&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(l,t){if(i.isArray(l))for(var e=0;e<l.length;++e)this._doInvokeOnCancel(l[e],t);else if(void 0!==l)if(!("function"==typeof l))l._resultCancelled(this);else if(!t){var p=o(l).call(this._boundValue());p===s&&(this._attachExtraTrace(p.e),a.throwLater(p.e))}},t.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel(),a.invoke(this._doInvokeOnCancel,this,e)},t.prototype._invokeInternalOnCancel=function(){this.isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(a,t){"use strict";t.exports=function(g){function e(e,i,n){return function(a){var s=n._boundValue();t:for(var l,c=0;c<e.length;++c)if(l=e[c],l===Error||null!=l&&l.prototype instanceof Error){if(a instanceof l)return r(i).call(s,a);}else if("function"==typeof l){var m=r(l).call(s,a);if(m===o)return m;if(m)return r(i).call(s,a)}else if(y.isObject(a)){for(var h,b=t(l),f=0;f<b.length;++f)if(h=b[f],l[h]!=a[h])continue t;return r(i).call(s,a)}return g}}var y=a("./util"),t=a("./es5").keys,r=y.tryCatch,o=y.errorObj;return e}},{"./es5":13,"./util":36}],8:[function(r,t){"use strict";t.exports=function(l){function t(){this._trace=new t.CapturedTrace(p())}function e(){return r?new t:void 0}function p(){var e=n.length-1;return 0<=e?n[e]:void 0}var r=!1,n=[];return l.prototype._promiseCreated=function(){},l.prototype._pushContext=function(){},l.prototype._popContext=function(){return null},l._peekContext=l.prototype._peekContext=function(){},t.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,n.push(this._trace))},t.prototype._popContext=function(){if(void 0!==this._trace){var r=n.pop(),t=r._promiseCreated;return r._promiseCreated=null,t}return null},t.CapturedTrace=null,t.create=e,t.deactivateLongStackTraces=function(){},t.activateLongStackTraces=function(){var e=l.prototype._pushContext,n=l.prototype._popContext,o=l._peekContext,i=l.prototype._peekContext,a=l.prototype._promiseCreated;t.deactivateLongStackTraces=function(){l.prototype._pushContext=e,l.prototype._popContext=n,l._peekContext=o,l.prototype._peekContext=i,l.prototype._promiseCreated=a,r=!1},r=!0,l.prototype._pushContext=t.prototype._pushContext,l.prototype._popContext=t.prototype._popContext,l._peekContext=l.prototype._peekContext=p,l.prototype._promiseCreated=function(){var e=this._peekContext();e&&null==e._promiseCreated&&(e._promiseCreated=this)}},t}},{}],9:[function(p,t){"use strict";t.exports=function(v,e){function t(r,t){return{promise:t}}function r(){return!1}function n(o,t,e){var n=this;try{o(t,e,function(e){if("function"!=typeof e)throw new TypeError("onCancel must be a function, got: "+L.toString(e));n._attachCancellationCallback(e)})}catch(e){return e}}function o(r){if(!this.isCancellable())return this;var t=this._onCancel();void 0===t?this._setOnCancel(r):L.isArray(t)?t.push(r):this._setOnCancel([t,r])}function i(){return this._onCancelField}function a(e){this._onCancelField=e}function s(){this._cancellationParent=void 0,this._onCancelField=void 0}function l(r,t){if(0!=(1&t)){this._cancellationParent=r;var e=r._branchesRemainingToCancel;void 0===e&&(e=0),r._branchesRemainingToCancel=e+1}0!=(2&t)&&r._isBound()&&this._setBoundTo(r._boundTo)}function c(){var e=this._boundTo;return void 0!==e&&e instanceof v?e.isFulfilled()?e.value():void 0:e}function u(){this._trace=new P(this._peekContext())}function h(o,t){if(H(o)){var e=this._trace;if(void 0!==e&&t&&(e=e._parent),void 0!==e)e.attachExtraTrace(o);else if(!o.__stackCleaned__){var a=C(o);L.notEnumerableProp(o,"stack",a.message+"\n"+a.stack.join("\n")),L.notEnumerableProp(o,"__stackCleaned__",!0)}}}function _(a,t,e,l,r){if(void 0===a&&null!==t&&G){if(void 0!==r&&r._returnedNonUndefined())return;if(0==(65535&l._bitField))return;e&&(e+=" ");var i="a promise was created in a "+e+"handler but was not returned from it";l._warn(i,!0,t)}}function d(e,t,n){if(pe.warnings){var r,a=new I(e);if(t)n._attachExtraTrace(a);else if(pe.longStackTraces&&(r=v._peekContext()))r.attachExtraTrace(a);else{var o=C(a);a.stack=o.message+"\n"+o.stack.join("\n")}J("warning",a)||j(a,"",!0)}}function y(r,t){for(var e=0;e<t.length-1;++e)t[e].push("From previous event:"),t[e]=t[e].join("\n");return e<t.length&&(t[e]=t[e].join("\n")),r+"\n"+t.join("\n")}function f(r){for(var t=0;t<r.length;++t)(0===r[t].length||t+1<r.length&&r[t][0]===r[t+1][0])&&(r.splice(t,1),t--)}function g(l){for(var t=l[0],p=1;p<l.length;++p){for(var d=l[p],r=t.length-1,_=t[r],o=-1,u=d.length-1;0<=u;--u)if(d[u]===_){o=u;break}for(var h,u=o;0<=u&&(h=d[u],t[r]===h);--u)t.pop(),r--;t=d}}function m(a){for(var t=[],e=0;e<a.length;++e){var l=a[e],s="    (No stack trace)"===l||U.test(l),i=s&&ie(l);s&&!i&&(re&&" "!==l.charAt(0)&&(l="    "+l),t.push(l))}return t}function b(o){for(var t,a=o.stack.replace(/\s+$/g,"").split("\n"),i=0;i<a.length&&(t=a[i],!("    (No stack trace)"===t||U.test(t)));++i);return 0<i&&(a=a.slice(i)),a}function C(r){var t=r.stack,o=r.toString();return t="string"==typeof t&&0<t.length?b(r):["    (No stack trace)"],{message:o,stack:m(t)}}function j(o,t,e){if("undefined"!=typeof console){var n;if(L.isObject(o)){var a=o.stack;n=t+te(a,o)}else n=t+(o+"");"function"==typeof w?w(n,e):("function"==typeof console.log||"object"==_typeof(console.log))&&console.log(n)}}function k(o,t,e,n){var r=!1;try{"function"==typeof t&&(r=!0,"rejectionHandled"===o?t(n):t(e,n))}catch(e){V.throwLater(e)}"unhandledRejection"===o?J(o,e,n)||r||j(e,"Unhandled rejection "):J(o,n)}function E(o){var t;if("function"==typeof o)t="[function "+(o.name||"anonymous")+"]";else{t=o&&"function"==typeof o.toString?o.toString():L.toString(o);var a=/\[object [a-zA-Z0-9$_]+\]/;if(a.test(t))try{var n=JSON.stringify(o);t=n}catch(e){}0===t.length&&(t="(empty array)")}return"(<"+F(t)+">, no stack trace)"}function F(e){return e.length<41?e:e.substr(0,38)+"..."}function x(){return"function"==typeof se}function T(r){var t=r.match(le);return t?{fileName:t[1],line:parseInt(t[2],10)}:void 0}function P(r){this._parent=r,this._promisesCreated=0;var t=this._length=1+(void 0===r?0:r._length);se(this,P),32<t&&this.uncycle()}var R,S,w,ee=v._getDomain,V=v._async,I=p("./errors").Warning,L=p("./util"),H=L.canAttachTrace,N=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,U=null,te=null,re=!1,ne=0!=L.env("BLUEBIRD_DEBUG")&&(L.env("BLUEBIRD_DEBUG")||"development"===L.env("NODE_ENV")),Q=0!=L.env("BLUEBIRD_WARNINGS")&&(ne||L.env("BLUEBIRD_WARNINGS")),$=0!=L.env("BLUEBIRD_LONG_STACK_TRACES")&&(ne||L.env("BLUEBIRD_LONG_STACK_TRACES")),G=0!=L.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(Q||!!L.env("BLUEBIRD_W_FORGOTTEN_RETURN"));v.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=524288|-1048577&e._bitField},v.prototype._ensurePossibleRejectionHandled=function(){0==(524288&this._bitField)&&(this._setRejectionIsUnhandled(),V.invokeLater(this._notifyUnhandledRejection,this,void 0))},v.prototype._notifyUnhandledRejectionIsHandled=function(){k("rejectionHandled",R,void 0,this)},v.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},v.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},v.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue();this._setUnhandledRejectionIsNotified(),k("unhandledRejection",S,e,this)}},v.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},v.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},v.prototype._isUnhandledRejectionNotified=function(){return 0<(262144&this._bitField)},v.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},v.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},v.prototype._isRejectionUnhandled=function(){return 0<(1048576&this._bitField)},v.prototype._warn=function(r,t,e){return d(r,t,e||this)},v.onPossiblyUnhandledRejection=function(r){var t=ee();S="function"==typeof r?null===t?r:t.bind(r):void 0},v.onUnhandledRejectionHandled=function(r){var t=ee();R="function"==typeof r?null===t?r:t.bind(r):void 0};var oe=function(){};v.longStackTraces=function(){if(V.haveItemsQueued()&&!pe.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!pe.longStackTraces&&x()){var n=v.prototype._captureStackTrace,t=v.prototype._attachExtraTrace;pe.longStackTraces=!0,oe=function(){if(V.haveItemsQueued()&&!pe.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");v.prototype._captureStackTrace=n,v.prototype._attachExtraTrace=t,e.deactivateLongStackTraces(),V.enableTrampoline(),pe.longStackTraces=!1},v.prototype._captureStackTrace=u,v.prototype._attachExtraTrace=h,e.activateLongStackTraces(),V.disableTrampolineIfNecessary()}},v.hasLongStackTraces=function(){return pe.longStackTraces&&x()};var ae=function(){try{var e=document.createEvent("CustomEvent");return e.initCustomEvent("testingtheevent",!1,!0,{}),L.global.dispatchEvent(e),function(r,t){var e=document.createEvent("CustomEvent");return e.initCustomEvent(r.toLowerCase(),!1,!0,t),!L.global.dispatchEvent(e)}}catch(t){}return function(){return!1}}(),W=function(){return L.isNode?function(){return process.emit.apply(process,arguments)}:L.global?function(r){var t="on"+r.toLowerCase(),e=L.global[t];return!!e&&(e.apply(L.global,[].slice.call(arguments,1)),!0)}:function(){return!1}}(),K={promiseCreated:t,promiseFulfilled:t,promiseRejected:t,promiseResolved:t,promiseCancelled:t,promiseChained:function(r,t,e){return{promise:t,child:e}},warning:function(r,t){return{warning:t}},unhandledRejection:function(r,t,e){return{reason:t,promise:e}},rejectionHandled:t},J=function(n){var t=!1;try{t=W.apply(null,arguments)}catch(e){V.throwLater(e),t=!0}var o=!1;try{o=ae(n,K[n].apply(null,arguments))}catch(e){V.throwLater(e),o=!0}return o||t};v.config=function(e){if(e=Object(e),"longStackTraces"in e&&(e.longStackTraces?v.longStackTraces():!e.longStackTraces&&v.hasLongStackTraces()&&oe()),"warnings"in e){var p=e.warnings;pe.warnings=!!p,G=pe.warnings,L.isObject(p)&&"wForgottenReturn"in p&&(G=!!p.wForgottenReturn)}if("cancellation"in e&&e.cancellation&&!pe.cancellation){if(V.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");v.prototype._clearCancellationData=s,v.prototype._propagateFrom=l,v.prototype._onCancel=i,v.prototype._setOnCancel=a,v.prototype._attachCancellationCallback=o,v.prototype._execute=n,Y=l,pe.cancellation=!0}"monitoring"in e&&(e.monitoring&&!pe.monitoring?(pe.monitoring=!0,v.prototype._fireEvent=J):!e.monitoring&&pe.monitoring&&(pe.monitoring=!1,v.prototype._fireEvent=r))},v.prototype._fireEvent=r,v.prototype._execute=function(r,t,e){try{r(t,e)}catch(e){return e}},v.prototype._onCancel=function(){},v.prototype._setOnCancel=function(){},v.prototype._attachCancellationCallback=function(){},v.prototype._captureStackTrace=function(){},v.prototype._attachExtraTrace=function(){},v.prototype._clearCancellationData=function(){},v.prototype._propagateFrom=function(){};var Y=function(r,t){0!=(2&t)&&r._isBound()&&this._setBoundTo(r._boundTo)},ie=function(){return!1},le=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;L.inherits(P,Error),e.CapturedTrace=P,P.prototype.uncycle=function(){var p=this._length;if(!(2>p)){for(var d=[],e={},n=0,_=this;void 0!==_;++n)d.push(_),_=_._parent;p=this._length=n;for(var h,n=p-1;0<=n;--n)h=d[n].stack,void 0===e[h]&&(e[h]=n);for(var n=0;p>n;++n){var g=d[n].stack,s=e[g];if(void 0!==s&&s!==n){0<s&&(d[s-1]._parent=void 0,d[s-1]._length=1),d[n]._parent=void 0,d[n]._length=1;var a=0<n?d[n-1]:this;p-1>s?(a._parent=d[s+1],a._parent.uncycle(),a._length=a._parent._length+1):(a._parent=void 0,a._length=1);for(var c=a._length+1,y=n-2;0<=y;--y)d[y]._length=c,c++;return}}}},P.prototype.attachExtraTrace=function(o){if(!o.__stackCleaned__){this.uncycle();for(var t=C(o),e=t.message,n=[t.stack],r=this;void 0!==r;)n.push(m(r.stack.split("\n"))),r=r._parent;g(n),f(n),L.notEnumerableProp(o,"stack",y(e,n)),L.notEnumerableProp(o,"__stackCleaned__",!0)}};var se=function(){var o=/^\s*at\s*/,t=function(e,t){return"string"==typeof e?e:void 0!==t.name&&void 0!==t.message?t.toString():E(t)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,U=o,te=t;var a=Error.captureStackTrace;return ie=function(e){return N.test(e)},function(r,t){Error.stackTraceLimit+=6,a(r,t),Error.stackTraceLimit-=6}}var e=new Error;if("string"==typeof e.stack&&0<=e.stack.split("\n")[0].indexOf("stackDetection@"))return U=/@/,te=t,re=!0,function(e){e.stack=new Error().stack};var r;try{throw new Error}catch(e){r="stack"in e}return"stack"in e||!r||"number"!=typeof Error.stackTraceLimit?(te=function(r,t){return"string"==typeof r?r:"object"!=("undefined"==typeof t?"undefined":_typeof(t))&&"function"!=typeof t||void 0===t.name||void 0===t.message?E(t):t.toString()},null):(U=o,te=t,function(r){Error.stackTraceLimit+=6;try{throw new Error}catch(t){r.stack=t.stack}Error.stackTraceLimit-=6})}([]);"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(w=function(e){console.warn(e)},L.isNode&&process.stderr.isTTY?w=function(r,t){var e=t?"\x1B[33m":"\x1B[31m";console.warn(e+r+"\x1B[0m\n")}:L.isNode||"string"!=typeof new Error().stack||(w=function(r,t){console.warn("%c"+r,t?"color: darkorange":"color: red")}));var pe={warnings:Q,longStackTraces:!1,cancellation:!1,monitoring:!1};return $&&v.longStackTraces(),{longStackTraces:function(){return pe.longStackTraces},warnings:function(){return pe.warnings},cancellation:function(){return pe.cancellation},monitoring:function(){return pe.monitoring},propagateFromFunction:function(){return Y},boundValueFunction:function(){return c},checkForgottenReturns:_,setBounds:function(p,t){if(x()){for(var d,e,_,u=p.stack.split("\n"),i=t.stack.split("\n"),o=-1,h=-1,g=0;g<u.length;++g)if(_=T(u[g]),_){d=_.fileName,o=_.line;break}for(var _,g=0;g<i.length;++g)if(_=T(i[g]),_){e=_.fileName,h=_.line;break}0>o||0>h||!d||!e||d!==e||o>=h||(ie=function(r){if(N.test(r))return!0;var t=T(r);return!!(t&&t.fileName===d&&o<=t.line&&t.line<=h)})}},warn:d,deprecated:function(r,t){var e=r+" is deprecated and will be removed in a future version.";return t&&(e+=" Use "+t+" instead."),d(e)},CapturedTrace:P,fireDomEvent:ae,fireGlobalEvent:W}}},{"./errors":12,"./util":36}],10:[function(r,t){"use strict";t.exports=function(o){function t(){return this.value}function r(){throw this.reason}o.prototype["return"]=o.prototype.thenReturn=function(e){return e instanceof o&&e.suppressUnhandledRejections(),this._then(t,void 0,void 0,{value:e},void 0)},o.prototype["throw"]=o.prototype.thenThrow=function(e){return this._then(r,void 0,void 0,{reason:e},void 0)},o.prototype.catchThrow=function(n){if(1>=arguments.length)return this._then(void 0,r,void 0,{reason:n},void 0);var t=arguments[1];return this.caught(n,function(){throw t})},o.prototype.catchReturn=function(e){if(1>=arguments.length)return e instanceof o&&e.suppressUnhandledRejections(),this._then(void 0,t,void 0,{value:e},void 0);var n=arguments[1];n instanceof o&&n.suppressUnhandledRejections();return this.caught(e,function(){return n})}}},{}],11:[function(r,t){"use strict";t.exports=function(a,l){function s(){return t(this)}function n(r,t){return e(r,t,l,l)}var e=a.reduce,t=a.all;a.prototype.each=function(e){return this.mapSeries(e)._then(s,void 0,void 0,this,void 0)},a.prototype.mapSeries=function(r){return e(this,r,l,l)},a.each=function(r,t){return n(r,t)._then(s,void 0,void 0,r,void 0)},a.mapSeries=n}},{}],12:[function(n,t){"use strict";function e(o,t){function e(n){return this instanceof e?(u(this,"message","string"==typeof n?n:t),u(this,"name",o),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new e(n)}return l(e,Error),e}function r(e){return this instanceof r?(u(this,"name","OperationalError"),u(this,"message",e),this.cause=e,this.isOperational=!0,void(e instanceof Error?(u(this,"message",e.message),u(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new r(e)}var i,C,v=n("./es5"),a=v.freeze,c=n("./util"),l=c.inherits,u=c.notEnumerableProp,p=e("Warning","warning"),h=e("CancellationError","cancellation error"),f=e("TimeoutError","timeout error"),_=e("AggregateError","aggregate error");try{i=TypeError,C=RangeError}catch(t){i=e("TypeError","type error"),C=e("RangeError","range error")}for(var d=["join","pop","push","shift","unshift","slice","filter","forEach","some","every","map","indexOf","lastIndexOf","reduce","reduceRight","sort","reverse"],y=0;y<d.length;++y)"function"==typeof Array.prototype[d[y]]&&(_.prototype[d[y]]=Array.prototype[d[y]]);v.defineProperty(_.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),_.prototype.isOperational=!0;var j=0;_.prototype.toString=function(){var a=Array(4*j+1).join(" "),l="\n"+a+"AggregateError of:\n";j++,a=Array(4*j+1).join(" ");for(var s=0;s<this.length;++s){for(var p=this[s]===this?"[Circular AggregateError]":this[s]+"",c=p.split("\n"),i=0;i<c.length;++i)c[i]=a+c[i];p=c.join("\n"),l+=p+"\n"}return j--,l},l(r,Error);var k=Error.__BluebirdErrorTypes__;k||(k=a({CancellationError:h,TimeoutError:f,OperationalError:r,RejectionError:r,AggregateError:_}),v.defineProperty(Error,"__BluebirdErrorTypes__",{value:k,writable:!1,enumerable:!1,configurable:!1})),t.exports={Error:Error,TypeError:i,RangeError:C,CancellationError:k.CancellationError,OperationalError:k.OperationalError,TimeoutError:k.TimeoutError,AggregateError:k.AggregateError,Warning:p}},{"./es5":13,"./util":36}],13:[function(n,t){var e=function(){"use strict";return void 0===this}();if(e)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:e,propertyIsWritable:function(r,t){var e=Object.getOwnPropertyDescriptor(r,t);return!e||e.writable||e.set}};else{var r={}.hasOwnProperty,i={}.toString,o={}.constructor.prototype,s=function(o){var t=[];for(var e in o)r.call(o,e)&&t.push(e);return t},a=function(r,t){return{value:r[t]}},c=function(r,t,e){return r[t]=e.value,r},l=function(e){return e},d=function(e){try{return Object(e).constructor.prototype}catch(t){return o}},p=function(e){try{return"[object Array]"===i.call(e)}catch(t){return!1}};t.exports={isArray:p,keys:s,names:s,defineProperty:c,getDescriptor:a,freeze:l,getPrototypeOf:d,isES5:e,propertyIsWritable:function(){return!0}}}},{}],14:[function(r,t){"use strict";t.exports=function(r,o){var e=r.map;r.prototype.filter=function(n,t){return e(this,n,t,o)},r.filter=function(n,t,r){return e(n,t,r,o)}}},{}],15:[function(d,t){"use strict";t.exports=function(t,e){function _(r,t,e){this.promise=r,this.type=t,this.handler=e,this.called=!1,this.cancelPromise=null}function n(e){this.finallyHandler=e}function i(r,t){return null!=r.cancelPromise&&(1<arguments.length?r.cancelPromise._reject(t):r.cancelPromise._cancel(),r.cancelPromise=null,!0)}function o(){return r.call(this,this.promise._target()._settledValue())}function s(e){return i(this,e)?void 0:(u.e=e,u)}function r(a){var p=this.promise,r=this.handler;if(!this.called){this.called=!0;var c=this.isFinallyHandler()?r.call(p._boundValue()):r.call(p._boundValue(),a);if(void 0!==c){p._setReturnedNonUndefined();var d=e(c,p);if(d instanceof t){if(null!=this.cancelPromise){if(d.isCancelled()){var _=new l("late cancellation observer");return p._attachExtraTrace(_),u.e=_,u}d.isPending()&&d._attachCancellationCallback(new n(this))}return d._then(o,s,void 0,this,void 0)}}}return p.isRejected()?(i(this),u.e=a,u):(i(this),a)}var a=d("./util"),l=t.CancellationError,u=a.errorObj;return _.prototype.isFinallyHandler=function(){return 0===this.type},n.prototype._resultCancelled=function(){i(this.finallyHandler)},t.prototype._passThrough=function(r,t,e,n){return"function"==typeof r?this._then(e,n,void 0,new _(this,t,r),void 0):this.then()},t.prototype.lastly=t.prototype["finally"]=function(e){return this._passThrough(e,0,r,r)},t.prototype.tap=function(e){return this._passThrough(e,1,r)},_}},{"./util":36}],16:[function(d,t){"use strict";t.exports=function(g,e,t,y,r,m){function i(e,t,n){for(var r=0;r<t.length;++r){n._pushContext();var i=u(t[r])(e);if(n._popContext(),i===p){n._pushContext();var l=g.reject(p.e);return n._popContext(),l}var a=y(i,n);if(a instanceof g)return a}return null}function a(e,r,n,i){if(m.cancellation()){var o=new g(t),a=this._finallyPromise=new g(t);this._promise=o.lastly(function(){return a}),o._captureStackTrace(),o._setOnCancel(this)}else{var p=this._promise=new g(t);p._captureStackTrace()}this._stack=i,this._generatorFunction=e,this._receiver=r,this._generator=void 0,this._yieldHandlers="function"==typeof n?[n].concat(s):s,this._yieldedPromise=null,this._cancellationPhase=!1}var n=d("./errors"),l=n.TypeError,o=d("./util"),p=o.errorObj,u=o.tryCatch,s=[];o.inherits(a,r),a.prototype._isResolved=function(){return null===this._promise},a.prototype._cleanup=function(){this._promise=this._generator=null,m.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},a.prototype._promiseCancelled=function(){if(!this._isResolved()){var e,o="undefined"!=typeof this._generator["return"];if(o)this._promise._pushContext(),e=u(this._generator["return"]).call(this._generator,void 0),this._promise._popContext();else{var n=new g.CancellationError("generator .return() sentinel");g.coroutine.returnSentinel=n,this._promise._attachExtraTrace(n),this._promise._pushContext(),e=u(this._generator["throw"]).call(this._generator,n),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(e)}},a.prototype._promiseFulfilled=function(r){this._yieldedPromise=null,this._promise._pushContext();var t=u(this._generator.next).call(this._generator,r);this._promise._popContext(),this._continue(t)},a.prototype._promiseRejected=function(r){this._yieldedPromise=null,this._promise._attachExtraTrace(r),this._promise._pushContext();var t=u(this._generator["throw"]).call(this._generator,r);this._promise._popContext(),this._continue(t)},a.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof g){var e=this._yieldedPromise;this._yieldedPromise=null,e.cancel()}},a.prototype.promise=function(){return this._promise},a.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},a.prototype._continue=function(e){var t=this._promise;if(e===p)return this._cleanup(),this._cancellationPhase?t.cancel():t._rejectCallback(e.e,!1);var n=e.value;if(!0===e.done)return this._cleanup(),this._cancellationPhase?t.cancel():t._resolveCallback(n);var r=y(n,this._promise);if(!(r instanceof g)&&(r=i(r,this._yieldHandlers,this._promise),null===r))return void this._promiseRejected(new l("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",n)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));r=r._target();var a=r._bitField;0==(50397184&a)?(this._yieldedPromise=r,r._proxy(this,null)):0==(33554432&a)?0==(16777216&a)?this._promiseCancelled():this._promiseRejected(r._reason()):this._promiseFulfilled(r._value())},g.coroutine=function(r,t){if("function"!=typeof r)throw new l("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var p=Object(t).yieldHandler,n=new Error().stack;return function(){var t=r.apply(this,arguments),e=new a(void 0,void 0,p,n),o=e.promise();return e._generator=t,e._promiseFulfilled(void 0),o}},g.coroutine.addYieldHandler=function(e){if("function"!=typeof e)throw new l("expecting a function but got "+o.classString(e));s.push(e)},g.spawn=function(n){if(m.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof n)return e("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var t=new a(n,this),r=t.promise();return t._run(g.spawn),r}}},{"./errors":12,"./util":36}],17:[function(r,t){"use strict";t.exports=function(t,a){var e=r("./util");e.canEvaluate,e.tryCatch,e.errorObj,t.join=function(){var n,o=arguments.length-1;if(0<o&&"function"==typeof arguments[o]){n=arguments[o];var e}var l=[].slice.call(arguments);n&&l.pop();var e=new a(l).promise();return void 0===n?e:e.spread(n)}}},{"./util":36}],18:[function(d,t){"use strict";t.exports=function(g,e,_,m,y,i){function r(o,t,e,n){this.constructor$(o),this._promise._captureStackTrace();var r=a();this._callback=null===r?t:r.bind(t),this._preservedValues=n===y?Array(this.length()):null,this._limit=e,this._inFlight=0,this._queue=1<=e?[]:c,this._init$(void 0,-2)}function o(a,t,e,n){if("function"!=typeof t)return _("expecting a function but got "+l.classString(t));var i="object"==("undefined"==typeof e?"undefined":_typeof(e))&&null!==e?e.concurrency:0;return i="number"==typeof i&&isFinite(i)&&1<=i?i:0,new r(a,t,i,n).promise()}var a=g._getDomain,l=d("./util"),s=l.tryCatch,p=l.errorObj,c=[];l.inherits(r,e),r.prototype._init=function(){},r.prototype._promiseFulfilled=function(e,t){var h=this._values,r=this.length(),o=this._preservedValues,a=this._limit;if(!(0>t)){if(1<=a&&this._inFlight>=a)return h[t]=e,this._queue.push(t),!1;null!==o&&(o[t]=e);var c=this._promise,l=this._callback,u=c._boundValue();c._pushContext();var f=s(l).call(u,e,t,r),b=c._popContext();if(i.checkForgottenReturns(f,b,null===o?"Promise.map":"Promise.filter",c),f===p)return this._reject(f.e),!0;var d=m(f,this._promise);if(d instanceof g){d=d._target();var C=d._bitField;if(0==(50397184&C))return 1<=a&&this._inFlight++,h[t]=d,d._proxy(this,-1*(t+1)),!1;if(0==(33554432&C))return 0==(16777216&C)?(this._cancel(),!0):(this._reject(d._reason()),!0);f=d._value()}h[t]=f}else if(t=-1*t-1,h[t]=e,1<=a&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0;var y=++this._totalResolved;return!!(y>=r)&&(null===o?this._resolve(h):this._filter(h,o),!0)},r.prototype._drainQueue=function(){for(var o=this._queue,t=this._limit,e=this._values;0<o.length&&this._inFlight<t;){if(this._isResolved())return;var n=o.pop();this._promiseFulfilled(e[n],n)}},r.prototype._filter=function(a,t){for(var e=t.length,n=Array(e),r=0,l=0;e>l;++l)a[l]&&(n[r++]=t[l]);n.length=r,this._resolve(n)},r.prototype.preservedValues=function(){return this._preservedValues},g.prototype.map=function(r,t){return o(this,r,t,null)},g.map=function(a,t,e,n){return o(a,t,e,n)}}},{"./util":36}],19:[function(l,t){"use strict";t.exports=function(d,e,t,n,_){var o=l("./util"),h=o.tryCatch;d.method=function(n){if("function"!=typeof n)throw new d.TypeError("expecting a function but got "+o.classString(n));return function(){var t=new d(e);t._captureStackTrace(),t._pushContext();var r=h(n).apply(this,arguments),o=t._popContext();return _.checkForgottenReturns(r,o,"Promise.method",t),t._resolveFromSyncValue(r),t}},d.attempt=d["try"]=function(a){if("function"!=typeof a)return n("expecting a function but got "+o.classString(a));var t=new d(e);t._captureStackTrace(),t._pushContext();var r;if(1<arguments.length){_.deprecated("calling Promise.try with more than 1 argument");var i=arguments[1],l=arguments[2];r=o.isArray(i)?h(a).apply(l,i):h(a).call(l,i)}else r=h(a)();var s=t._popContext();return _.checkForgottenReturns(r,s,"Promise.try",t),t._resolveFromSyncValue(r),t},d.prototype._resolveFromSyncValue=function(e){e===o.errorObj?this._rejectCallback(e.e,!1):this._resolveCallback(e,!0)}}},{"./util":36}],20:[function(n,t){"use strict";function d(e){return e instanceof Error&&l.getPrototypeOf(e)===Error.prototype}function e(p){var t;if(d(p)){t=new a(p),t.name=p.name,t.message=p.message,t.stack=p.stack;for(var c,_=l.keys(p),n=0;n<_.length;++n)c=_[n],s.test(c)||(t[c]=p[c]);return t}return r.markAsOriginatingFromRejection(p),p}var r=n("./util"),i=r.maybeWrapAsError,o=n("./errors"),a=o.OperationalError,l=n("./es5"),s=/^(?:name|message|stack|cause)$/;t.exports=function(a,l){return function(t,n){if(null!==a){if(t){var r=e(i(t));a._attachExtraTrace(r),a._reject(r)}else if(l){var o=[].slice.call(arguments,1);a._fulfill(o)}else a._fulfill(n);a=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(l,t){"use strict";t.exports=function(t){function p(r,t){var e=this;if(!_.isArray(r))return d.call(e,r,t);var n=s(t).apply(e._boundValue(),[null].concat(r));n===a&&o.throwLater(n.e)}function d(l,t){var e=this,n=e._boundValue(),r=void 0===l?s(t).call(n,null):s(t).call(n,null,l);r===a&&o.throwLater(r.e)}function r(l,p){var e=this;if(!l){var n=new Error(l+"");n.cause=l,l=n}var r=s(p).call(e._boundValue(),l);r===a&&o.throwLater(r.e)}var _=l("./util"),o=t._async,s=_.tryCatch,a=_.errorObj;t.prototype.asCallback=t.prototype.nodeify=function(n,t){if("function"==typeof n){var e=d;void 0!==t&&Object(t).spread&&(e=p),this._then(e,r,void 0,this,n)}return this}}},{"./util":36}],22:[function(O,t){"use strict";t.exports=function(){function A(){}function e(r,t){if("function"!=typeof t)throw new d("expecting a function but got "+p.classString(t));if(r.constructor!==D)throw new d("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n")}function D(r){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,r!==m&&(e(this,r),this._resolveFromExecutor(r)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function r(e){this.promise._resolveCallback(e)}function n(e){this.promise._rejectCallback(e,!1)}function t(r){var t=new D(m);t._fulfillmentHandler0=r,t._rejectionHandler0=r,t._promise0=r,t._receiver0=r}var N,V=function(){return new d("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},L=function(){return new D.PromiseInspection(this._target())},l=function(e){return D.reject(new d(e))},s={},p=O("./util");N=p.isNode?function(){var e=process.domain;return void 0===e&&(e=null),e}:function(){return null},p.notEnumerableProp(D,"_getDomain",N);var o=O("./es5"),i=O("./async"),H=new i;o.defineProperty(D,"_async",{value:H});var c=O("./errors"),d=D.TypeError=c.TypeError;D.RangeError=c.RangeError;var y=D.CancellationError=c.CancellationError;D.TimeoutError=c.TimeoutError,D.OperationalError=c.OperationalError,D.RejectionError=c.OperationalError,D.AggregateError=c.AggregateError;var m=function(){},_={},u={},h=O("./thenables")(D,m),g=O("./promise_array")(D,m,h,l,A),f=O("./context")(D),b=f.create,C=O("./debuggability")(D,f),v=(C.CapturedTrace,O("./finally")(D,h)),j=O("./catch_filter")(u),k=O("./nodeback"),F=p.errorObj,x=p.tryCatch;return D.prototype.toString=function(){return"[object Promise]"},D.prototype.caught=D.prototype["catch"]=function(a){var s=arguments.length;if(1<s){var e,c=Array(s-1),r=0;for(e=0;s-1>e;++e){var d=arguments[e];if(!p.isObject(d))return l("expecting an object but got "+p.classString(d));c[r++]=d}return c.length=r,a=arguments[e],this.then(void 0,j(c,a,this))}return this.then(void 0,a)},D.prototype.reflect=function(){return this._then(L,L,void 0,this,void 0)},D.prototype.then=function(r,t){if(C.warnings()&&0<arguments.length&&"function"!=typeof r&&"function"!=typeof t){var e=".then() only accepts functions but was passed: "+p.classString(r);1<arguments.length&&(e+=", "+p.classString(t)),this._warn(e)}return this._then(r,t,void 0,void 0,void 0)},D.prototype.done=function(r,t){var e=this._then(r,t,void 0,void 0,void 0);e._setIsFinal()},D.prototype.spread=function(e){return"function"==typeof e?this.all()._then(e,void 0,void 0,_,void 0):l("expecting a function but got "+p.classString(e))},D.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this.value(),e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this.reason(),e.isRejected=!0),e},D.prototype.all=function(){return 0<arguments.length&&this._warn(".all() was passed arguments but it does not take any"),new g(this).promise()},D.prototype.error=function(e){return this.caught(p.originatesFromRejection,e)},D.is=function(e){return e instanceof D},D.fromNode=D.fromCallback=function(r){var t=new D(m);t._captureStackTrace();var e=!!(1<arguments.length)&&!!Object(arguments[1]).multiArgs,n=x(r)(k(t,e));return n===F&&t._rejectCallback(n.e,!0),t._isFateSealed()||t._setAsyncGuaranteed(),t},D.all=function(e){return new g(e).promise()},D.cast=function(r){var t=h(r);return t instanceof D||(t=new D(m),t._captureStackTrace(),t._setFulfilled(),t._rejectionHandler0=r),t},D.resolve=D.fulfilled=D.cast,D.reject=D.rejected=function(r){var t=new D(m);return t._captureStackTrace(),t._rejectCallback(r,!0),t},D.setScheduler=function(e){if("function"!=typeof e)throw new d("expecting a function but got "+p.classString(e));return H.setScheduler(e)},D.prototype._then=function(r,t,e,n,a){var o=void 0!==a,s=o?a:new D(m),c=this._target(),l=c._bitField;o||(s._propagateFrom(this,3),s._captureStackTrace(),void 0===n&&0!=(2097152&this._bitField)&&(n=0==(50397184&l)?c===this?void 0:this._boundTo:this._boundValue()),this._fireEvent("promiseChained",this,s));var d=N();if(0!=(50397184&l)){var p,u,g=c._settlePromiseCtx;0==(33554432&l)?0==(16777216&l)?(g=c._settlePromiseLateCancellationObserver,u=new y("late cancellation observer"),c._attachExtraTrace(u),p=t):(u=c._fulfillmentHandler0,p=t,c._unsetRejectionIsUnhandled()):(u=c._rejectionHandler0,p=r),H.invoke(g,c,{handler:null===d?p:"function"==typeof p&&d.bind(p),promise:s,receiver:n,value:u})}else c._addCallbacks(r,t,s,n,d);return s},D.prototype._length=function(){return 65535&this._bitField},D.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},D.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},D.prototype._setLength=function(e){this._bitField=-65536&this._bitField|65535&e},D.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},D.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},D.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},D.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},D.prototype._isFinal=function(){return 0<(4194304&this._bitField)},D.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},D.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},D.prototype._setAsyncGuaranteed=function(){H.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},D.prototype._receiverAt=function(r){var t=0===r?this._receiver0:this[4*r-4+3];return t===s?void 0:void 0===t&&this._isBound()?this._boundValue():t},D.prototype._promiseAt=function(e){return this[4*e-4+2]},D.prototype._fulfillmentHandlerAt=function(e){return this[4*e-4+0]},D.prototype._rejectionHandlerAt=function(e){return this[4*e-4+1]},D.prototype._boundValue=function(){},D.prototype._migrateCallback0=function(o){var t=(o._bitField,o._fulfillmentHandler0),e=o._rejectionHandler0,n=o._promise0,r=o._receiverAt(0);void 0===r&&(r=s),this._addCallbacks(t,e,n,r,null)},D.prototype._migrateCallbackAt=function(a,t){var e=a._fulfillmentHandlerAt(t),n=a._rejectionHandlerAt(t),r=a._promiseAt(t),i=a._receiverAt(t);void 0===i&&(i=s),this._addCallbacks(e,n,r,i,null)},D.prototype._addCallbacks=function(a,t,e,n,r){var i=this._length();if(65531<=i&&(i=0,this._setLength(0)),0===i)this._promise0=e,this._receiver0=n,"function"==typeof a&&(this._fulfillmentHandler0=null===r?a:r.bind(a)),"function"==typeof t&&(this._rejectionHandler0=null===r?t:r.bind(t));else{var l=4*i-4;this[l+2]=e,this[l+3]=n,"function"==typeof a&&(this[l+0]=null===r?a:r.bind(a)),"function"==typeof t&&(this[l+1]=null===r?t:r.bind(t))}return this._setLength(i+1),i},D.prototype._proxy=function(r,t){this._addCallbacks(void 0,void 0,t,r,null)},D.prototype._resolveCallback=function(r,t){if(0==(117506048&this._bitField)){if(r===this)return this._rejectCallback(V(),!1);var e=h(r,this);if(!(e instanceof D))return this._fulfill(r);t&&this._propagateFrom(e,2);var n=e._target();if(n===this)return void this._reject(V());var i=n._bitField;if(0==(50397184&i)){var o=this._length();0<o&&n._migrateCallback0(this);for(var s=1;o>s;++s)n._migrateCallbackAt(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(n)}else if(0!=(33554432&i))this._fulfill(n._value());else if(0!=(16777216&i))this._reject(n._reason());else{var p=new y("late cancellation observer");n._attachExtraTrace(p),this._reject(p)}}},D.prototype._rejectCallback=function(a,t,e){var n=p.ensureErrorObject(a),r=n===a;if(!r&&!e&&C.warnings()){var i="a promise was rejected with a non-error: "+p.classString(a);this._warn(i,!0)}this._attachExtraTrace(n,!!t&&r),this._reject(a)},D.prototype._resolveFromExecutor=function(o){var a=this;this._captureStackTrace(),this._pushContext();var e=!0,t=this._execute(o,function(e){a._resolveCallback(e)},function(r){a._rejectCallback(r,e)});e=!1,this._popContext(),void 0!==t&&a._rejectCallback(t,!0)},D.prototype._settlePromiseFromHandler=function(a,t,e,n){var r=n._bitField;if(0==(65536&r)){n._pushContext();var l;t===_?e&&"number"==typeof e.length?l=x(a).apply(this._boundValue(),e):(l=F,l.e=new d("cannot .spread() a non-array: "+p.classString(e))):l=x(a).call(t,e);var c=n._popContext();r=n._bitField,0==(65536&r)&&(l===u?n._reject(e):l===F?n._rejectCallback(l.e,!1):(C.checkForgottenReturns(l,c,"",n,this),n._resolveCallback(l)))}},D.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e},D.prototype._followee=function(){return this._rejectionHandler0},D.prototype._setFollowee=function(e){this._rejectionHandler0=e},D.prototype._settlePromise=function(e,t,r,n){var o=e instanceof D,i=this._bitField,a=0!=(134217728&i);0==(65536&i)?"function"==typeof t?o?(a&&e._setAsyncGuaranteed(),this._settlePromiseFromHandler(t,r,n,e)):t.call(r,n,e):r instanceof A?r._isResolved()||(0==(33554432&i)?r._promiseRejected(n,e):r._promiseFulfilled(n,e)):o&&(a&&e._setAsyncGuaranteed(),0==(33554432&i)?e._reject(n):e._fulfill(n)):(o&&e._invokeInternalOnCancel(),r instanceof v&&r.isFinallyHandler()?(r.cancelPromise=e,x(t).call(r,n)===F&&e._reject(F.e)):t===L?e._fulfill(L.call(r)):r instanceof A?r._promiseCancelled(e):o||e instanceof g?e._cancel():r.cancel())},D.prototype._settlePromiseLateCancellationObserver=function(r){var t=r.handler,e=r.promise,n=r.receiver,a=r.value;"function"==typeof t?e instanceof D?this._settlePromiseFromHandler(t,n,a,e):t.call(n,a,e):e instanceof D&&e._reject(a)},D.prototype._settlePromiseCtx=function(e){this._settlePromise(e.promise,e.handler,e.receiver,e.value)},D.prototype._settlePromise0=function(n,t){var e=this._promise0,r=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(e,n,r,t)},D.prototype._clearCallbackDataAtIndex=function(r){var t=4*r-4;this[t+2]=this[t+3]=this[t+0]=this[t+1]=void 0},D.prototype._fulfill=function(r){var t=this._bitField;if(!((117506048&t)>>>16)){if(r===this){var e=V();return this._attachExtraTrace(e),this._reject(e)}this._setFulfilled(),this._rejectionHandler0=r,0<(65535&t)&&(0==(134217728&t)?H.settlePromises(this):this._settlePromises())}},D.prototype._reject=function(r){var t=this._bitField;if(!((117506048&t)>>>16))return this._setRejected(),this._fulfillmentHandler0=r,this._isFinal()?H.fatalError(r,p.isNode):void(0<(65535&t)?H.settlePromises(this):this._ensurePossibleRejectionHandled())},D.prototype._fulfillPromises=function(a,t){for(var e=1;a>e;e++){var l=this._fulfillmentHandlerAt(e),r=this._promiseAt(e),i=this._receiverAt(e);this._clearCallbackDataAtIndex(e),this._settlePromise(r,l,i,t)}},D.prototype._rejectPromises=function(a,t){for(var e=1;a>e;e++){var l=this._rejectionHandlerAt(e),r=this._promiseAt(e),i=this._receiverAt(e);this._clearCallbackDataAtIndex(e),this._settlePromise(r,l,i,t)}},D.prototype._settlePromises=function(){var o=this._bitField,t=65535&o;if(0<t){if(0!=(16842752&o)){var e=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,e,o),this._rejectPromises(t,e)}else{var n=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,n,o),this._fulfillPromises(t,n)}this._setLength(0)}this._clearCancellationData()},D.prototype._settledValue=function(){var e=this._bitField;return 0==(33554432&e)?0==(16777216&e)?void 0:this._fulfillmentHandler0:this._rejectionHandler0},D.defer=D.pending=function(){C.deprecated("Promise.defer","new Promise");var e=new D(m);return{promise:e,resolve:r,reject:n}},p.notEnumerableProp(D,"_makeSelfResolutionError",V),O("./method")(D,m,h,l,C),O("./bind")(D,m,h,C),O("./cancel")(D,g,l,C),O("./direct_resolve")(D),O("./synchronous_inspection")(D),O("./join")(D,g,h,m,C),D.Promise=D,O("./map.js")(D,g,l,h,m,C),O("./call_get.js")(D),O("./using.js")(D,l,h,b,m,C),O("./timers.js")(D,m,C),O("./generators.js")(D,l,m,h,A,C),O("./nodeify.js")(D),O("./promisify.js")(D,m),O("./props.js")(D,g,h,l),O("./race.js")(D,m,h,l),O("./reduce.js")(D,g,l,h,m,C),O("./settle.js")(D,g,C),O("./some.js")(D,g,l),O("./filter.js")(D,m),O("./each.js")(D,m),O("./any.js")(D),p.toFastProperties(D),p.toFastProperties(D.prototype),t({a:1}),t({b:2}),t({c:3}),t(1),t(function(){}),t(void 0),t(!1),t(new D(m)),C.setBounds(i.firstLineError,p.lastLineError),D}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(l,t){"use strict";t.exports=function(p,e,d,t,r){function i(e){return-2===e?[]:-3===e?{}:void 0}function n(n){var t=this._promise=new p(e);n instanceof p&&t._propagateFrom(n,3),t._setOnCancel(this),this._values=n,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var s=l("./util");return s.isArray,s.inherits(n,r),n.prototype.length=function(){return this._length},n.prototype.promise=function(){return this._promise},n.prototype._init=function e(r,l){var n=d(this._values,this._promise);if(n instanceof p){n=n._target();var c=n._bitField;if(this._values=n,0==(50397184&c))return this._promise._setAsyncGuaranteed(),n._then(e,this._reject,void 0,this,l);if(0==(33554432&c))return 0==(16777216&c)?this._cancel():this._reject(n._reason());n=n._value()}if(n=s.asArray(n),null===n){var a=t("expecting an array or an iterable object but got "+s.classString(n)).reason();return void this._promise._rejectCallback(a,!1)}return 0===n.length?void(-5===l?this._resolveEmptyArray():this._resolve(i(l))):void this._iterate(n)},n.prototype._iterate=function(e){var t=this.getActualLength(e.length);this._length=t,this._values=this.shouldCopyValues()?Array(t):this._values;for(var r,n=this._promise,i=!1,l=null,_=0;t>_;++_)r=d(e[_],n),r instanceof p?(r=r._target(),l=r._bitField):l=null,i?null!==l&&r.suppressUnhandledRejections():null===l?i=this._promiseFulfilled(r,_):0==(50397184&l)?(r._proxy(this,_),this._values[_]=r):i=0==(33554432&l)?0==(16777216&l)?this._promiseCancelled(_):this._promiseRejected(r._reason(),_):this._promiseFulfilled(r._value(),_);i||n._setAsyncGuaranteed()},n.prototype._isResolved=function(){return null===this._values},n.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},n.prototype._cancel=function(){!this._isResolved()&&this._promise.isCancellable()&&(this._values=null,this._promise._cancel())},n.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1)},n.prototype._promiseFulfilled=function(r,t){this._values[t]=r;var e=++this._totalResolved;return!!(e>=this._length)&&(this._resolve(this._values),!0)},n.prototype._promiseCancelled=function(){return this._cancel(),!0},n.prototype._promiseRejected=function(e){return this._totalResolved++,this._reject(e),!0},n.prototype._resultCancelled=function(){if(!this._isResolved()){var e=this._values;if(this._cancel(),e instanceof p)e.cancel();else for(var t=0;t<e.length;++t)e[t]instanceof p&&e[t].cancel()}},n.prototype.shouldCopyValues=function(){return!0},n.prototype.getActualLength=function(e){return e},n}},{"./util":36}],24:[function(g,t){"use strict";t.exports=function(F,e){function x(e){return!_.test(e)}function T(e){try{return!0===e.__isPromisified__}catch(t){return!1}}function n(o,t,e){var n=w.getDataPropertyOrDefault(o,t+e,c);return!!n&&T(n)}function o(a,t,e){for(var n,l=0;l<a.length;l+=2)if(n=a[l],e.test(n))for(var p=n.replace(e,""),o=0;o<a.length;o+=2)if(a[o]===p)throw new d("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",t))}function P(i,t,e,s){for(var r=w.inheritedDataKeys(i),a=[],c=0;c<r.length;++c){var d=r[c],_=i[d],p=!(s!==y)||y(d,_,i);"function"!=typeof _||T(_)||n(i,d,t)||!s(d,_,i,p)||a.push(d,_)}return o(a,t,e),a}function t(n,d,r,_,o,h){function a(){var t=d;d===S&&(t=this);var r=new F(e);r._captureStackTrace();var o="string"==typeof y&&this!==g?this[y]:n,a=p(r,h);try{o.apply(t,l(arguments,a))}catch(e){r._rejectCallback(i(e),!0,!0)}return r._isFateSealed()||r._setAsyncGuaranteed(),r}var g=function(){return this}(),y=n;return"string"==typeof y&&(n=_),w.notEnumerableProp(a,"__isPromisified__",!0),a}function R(a,t,e,n,r){for(var i=new RegExp(h(t)+"$"),o=P(a,t,i,e),s=0,g=o.length;g>s;s+=2){var l=o[s],u=o[s+1],p=l+t;if(n===f)a[p]=f(l,S,l,u,t,r);else{var _=n(u,function(){return f(l,S,l,u,t,r)});w.notEnumerableProp(_,"__isPromisified__",!0),a[p]=_}}return w.toFastProperties(a),a}function r(r,t,e){return f(r,t,void 0,r,null,e)}var a,S={},w=g("./util"),p=g("./nodeback"),l=w.withAppended,i=w.maybeWrapAsError,s=w.canEvaluate,d=g("./errors").TypeError,c={__isPromisified__:!0},_=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),y=function(e){return w.isIdentifier(e)&&"_"!==e.charAt(0)&&"constructor"!==e},h=function(e){return e.replace(/([$])/,"\\$")},f=s?a:t;F.promisify=function(a,t){if("function"!=typeof a)throw new d("expecting a function but got "+w.classString(a));if(T(a))return a;t=Object(t);var i=void 0===t.context?S:t.context,n=!!t.multiArgs,o=r(a,i,n);return w.copyDescriptors(a,o,x),o},F.promisifyAll=function(l,t){if("function"!=typeof l&&"object"!=("undefined"==typeof l?"undefined":_typeof(l)))throw new d("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");t=Object(t);var p=!!t.multiArgs,n=t.suffix;"string"!=typeof n&&(n="Async");var _=t.filter;"function"!=typeof _&&(_=y);var u=t.promisifier;if("function"!=typeof u&&(u=f),!w.isIdentifier(n))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var h,g=w.inheritedDataKeys(l),s=0;s<g.length;++s)h=l[g[s]],"constructor"!==g[s]&&w.isClass(h)&&(R(h.prototype,n,_,u,p),R(h,n,_,u,p));return R(l,n,_,u,p)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(d,t){"use strict";t.exports=function(_,e,g,r){function i(a){var t,p=!1;if(void 0!==y&&a instanceof y)t=c(a),p=!0;else{var d=l.keys(a),r=d.length;t=Array(2*r);for(var i,_=0;r>_;++_)i=d[_],t[_]=a[i],t[_+r]=i}this.constructor$(t),this._isMap=p,this._init$(void 0,-3)}function n(e){var t,a=g(e);return o(a)?(t=a instanceof _?a._then(_.props,void 0,void 0,void 0,void 0):new i(a).promise(),a instanceof _&&t._propagateFrom(a,2),t):r("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var y,t=d("./util"),o=t.isObject,l=d("./es5");"function"==typeof Map&&(y=Map);var c=function(){function o(e,t){this[a]=e,this[a+l]=t,a++}var a=0,l=0;return function(e){l=e.size,a=0;var t=Array(2*e.size);return e.forEach(o,t),t}}(),p=function(a){for(var t=new y,e=0|a.length/2,n=0;e>n;++n){var l=a[e+n],i=a[n];t.set(l,i)}return t};t.inherits(i,e),i.prototype._init=function(){},i.prototype._promiseFulfilled=function(a,t){this._values[t]=a;var e=++this._totalResolved;if(e>=this._length){var n;if(this._isMap)n=p(this._values);else{n={};for(var l=this.length(),i=0,c=this.length();c>i;++i)n[this._values[i+l]]=this._values[i]}return this._resolve(n),!0}return!1},i.prototype.shouldCopyValues=function(){return!1},i.prototype.getActualLength=function(e){return e>>1},_.prototype.props=function(){return n(this)},_.props=function(e){return n(e)}}},{"./es5":13,"./util":36}],26:[function(n,t){"use strict";function o(a,t,e,n,r){for(var i=0;r>i;++i)e[i+n]=a[i+t],a[i+t]=void 0}function e(e){this._capacity=e,this._length=0,this._front=0}e.prototype._willBeOverCapacity=function(e){return this._capacity<e},e.prototype._pushOne=function(r){var t=this.length();this._checkCapacity(t+1);var e=this._front+t&this._capacity-1;this[e]=r,this._length=t+1},e.prototype._unshiftOne=function(o){var t=this._capacity;this._checkCapacity(this.length()+1);var e=this._front,n=(e-1&t-1^t)-t;this[n]=o,this._front=n,this._length=this.length()+1},e.prototype.unshift=function(r,t,e){this._unshiftOne(e),this._unshiftOne(t),this._unshiftOne(r)},e.prototype.push=function(a,t,e){var n=this.length()+3;if(this._willBeOverCapacity(n))return this._pushOne(a),this._pushOne(t),void this._pushOne(e);var r=this._front+n-3;this._checkCapacity(n);var i=this._capacity-1;this[r+0&i]=a,this[r+1&i]=t,this[r+2&i]=e,this._length=n},e.prototype.shift=function(){var r=this._front,t=this[r];return this[r]=void 0,this._front=r+1&this._capacity-1,this._length--,t},e.prototype.length=function(){return this._length},e.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)},e.prototype._resizeTo=function(r){var t=this._capacity;this._capacity=r;var e=this._front,n=this._length;o(this,0,this,t,e+n&t-1)},t.exports=e},{}],27:[function(l,t){"use strict";t.exports=function(d,e,n,r){function i(a,i){var o=n(a);if(o instanceof d)return s(o);if(a=g.asArray(a),null===a)return r("expecting an array or an iterable object but got "+g.classString(a));var c=new d(e);void 0!==i&&c._propagateFrom(i,3);for(var l,y=c._fulfill,u=c._reject,p=0,m=a.length;m>p;++p)l=a[p],(void 0!==l||p in a)&&d.cast(l)._then(y,u,void 0,c,null);return c}var g=l("./util"),s=function(r){return r.then(function(t){return i(t,r)})};d.race=function(e){return i(e,void 0)},d.prototype.race=function(){return i(this,void 0)}}},{"./util":36}],28:[function(d,t){"use strict";t.exports=function(g,e,y,r,m,b){function s(e,t,n,o){this.constructor$(e);var a=p();this._fn=null===a?t:a.bind(t),void 0!==n&&(n=g.resolve(n),n._attachCancellationCallback(this)),this._initialValue=n,this._currentCancellable=null,this._eachValues=o===m?[]:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function a(r,t){this.isFulfilled()?t._resolve(r):t._reject(r)}function o(r,t,e,n){if("function"!=typeof t)return y("expecting a function but got "+c.classString(t));var a=new s(r,t,e,n);return a.promise()}function l(e){this.accum=e,this.array._gotAccum(e);var t=r(this.value,this.array._promise);return t instanceof g?(this.array._currentCancellable=t,t._then(i,void 0,void 0,this,void 0)):i.call(this,t)}function i(e){var t=this.array,n=t._promise,r=u(t._fn);n._pushContext();var i;i=void 0===t._eachValues?r.call(n._boundValue(),this.accum,e,this.index,this.length):r.call(n._boundValue(),e,this.index,this.length),i instanceof g&&(t._currentCancellable=i);var l=n._popContext();return b.checkForgottenReturns(i,l,void 0===t._eachValues?"Promise.reduce":"Promise.each",n),i}var p=g._getDomain,c=d("./util"),u=c.tryCatch;c.inherits(s,e),s.prototype._gotAccum=function(e){void 0!==this._eachValues&&e!==m&&this._eachValues.push(e)},s.prototype._eachComplete=function(e){return this._eachValues.push(e),this._eachValues},s.prototype._init=function(){},s.prototype._resolveEmptyArray=function(){this._resolve(void 0===this._eachValues?this._initialValue:this._eachValues)},s.prototype.shouldCopyValues=function(){return!1},s.prototype._resolve=function(e){this._promise._resolveCallback(e),this._values=null},s.prototype._resultCancelled=function(e){return e===this._initialValue?this._cancel():void(this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof g&&this._currentCancellable.cancel(),this._initialValue instanceof g&&this._initialValue.cancel()))},s.prototype._iterate=function(e){this._values=e;var t,s,p=e.length;if(void 0===this._initialValue?(t=g.resolve(e[0]),s=1):(t=this._initialValue,s=0),this._currentCancellable=t,!t.isRejected())for(;p>s;++s){var i={accum:null,value:e[s],index:s,length:p,array:this};t=t._then(l,void 0,void 0,i,void 0)}void 0!==this._eachValues&&(t=t._then(this._eachComplete,void 0,void 0,this,void 0)),t._then(a,a,void 0,t,this)},g.prototype.reduce=function(r,t){return o(this,r,t,null)},g.reduce=function(a,t,e,n){return o(a,t,e,n)}}},{"./util":36}],29:[function(n,t){"use strict";var e,o=n("./util"),i=o.getNativePromise();if(o.isNode&&"undefined"==typeof MutationObserver){var s=global.setImmediate,a=process.nextTick;e=o.isRecentNode?function(e){s.call(global,e)}:function(e){a.call(process,e)}}else if("function"==typeof i){var p=i.resolve();e=function(e){p.then(e)}}else e="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&window.navigator.standalone?"undefined"==typeof setImmediate?"undefined"==typeof setTimeout?function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}:function(e){setTimeout(e,0)}:function(e){setImmediate(e)}:function(){var a=document.createElement("div"),t={attributes:!0},e=!1,l=document.createElement("div"),r=new MutationObserver(function(){a.classList.toggle("foo"),e=!1});r.observe(l,t);var i=function(){e||(e=!0,l.classList.toggle("foo"))};return function(e){var n=new MutationObserver(function(){n.disconnect(),e()});n.observe(a,t),i()}}();t.exports=e},{"./util":36}],30:[function(a,t){"use strict";t.exports=function(t,e,n){function r(e){this.constructor$(e)}var i=t.PromiseInspection,o=a("./util");o.inherits(r,e),r.prototype._promiseResolved=function(r,t){this._values[r]=t;var e=++this._totalResolved;return!!(e>=this._length)&&(this._resolve(this._values),!0)},r.prototype._promiseFulfilled=function(r,t){var e=new i;return e._bitField=33554432,e._settledValueField=r,this._promiseResolved(t,e)},r.prototype._promiseRejected=function(r,t){var e=new i;return e._bitField=16777216,e._settledValueField=r,this._promiseResolved(t,e)},t.settle=function(e){return n.deprecated(".settle()",".reflect()"),new r(e).promise()},t.prototype.settle=function(){return t.settle(this)}}},{"./util":36}],31:[function(p,t){"use strict";t.exports=function(t,e,d){function r(e){this.constructor$(e),this._howMany=0,this._unwrap=!1,this._initialized=!1}function n(a,t){if((0|t)!==t||0>t)return d("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var e=new r(a),n=e.promise();return e.setHowMany(t),e.init(),n}var o=p("./util"),i=p("./errors").RangeError,a=p("./errors").AggregateError,s=o.isArray,l={};o.inherits(r,e),r.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var e=s(this._values);!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},r.prototype.init=function(){this._initialized=!0,this._init()},r.prototype.setUnwrap=function(){this._unwrap=!0},r.prototype.howMany=function(){return this._howMany},r.prototype.setHowMany=function(e){this._howMany=e},r.prototype._promiseFulfilled=function(e){return this._addFulfilled(e),!(this._fulfilled()!==this.howMany())&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},r.prototype._promiseRejected=function(e){return this._addRejected(e),this._checkOutcome()},r.prototype._promiseCancelled=function(){return this._values instanceof t||null==this._values?this._cancel():(this._addRejected(l),this._checkOutcome())},r.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var r=new a,t=this.length();t<this._values.length;++t)this._values[t]!==l&&r.push(this._values[t]);return 0<r.length?this._reject(r):this._cancel(),!0}return!1},r.prototype._fulfilled=function(){return this._totalResolved},r.prototype._rejected=function(){return this._values.length-this.length()},r.prototype._addRejected=function(e){this._values.push(e)},r.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e},r.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},r.prototype._getRangeError=function(r){var t="Input array must contain at least "+this._howMany+" items but contains only "+r+" items";return new i(t)},r.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},t.some=function(r,t){return n(r,t)},t.prototype.some=function(e){return n(this,e)},t._SomePromiseArray=r}},{"./errors":12,"./util":36}],32:[function(r,t){"use strict";t.exports=function(l){function t(e){void 0===e?(this._bitField=0,this._settledValueField=void 0):(e=e._target(),this._bitField=e._bitField,this._settledValueField=e._isFateSealed()?e._settledValue():void 0)}t.prototype._settledValue=function(){return this._settledValueField};var e=t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},n=t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=t.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},i=t.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},o=t.prototype.isPending=function(){return 0==(50397184&this._bitField)},s=t.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};t.prototype.isCancelled=l.prototype._isCancelled=function(){return 65536==(65536&this._bitField)},l.prototype.isCancelled=function(){return this._target()._isCancelled()},l.prototype.isPending=function(){return o.call(this._target())},l.prototype.isRejected=function(){return i.call(this._target())},l.prototype.isFulfilled=function(){return r.call(this._target())},l.prototype.isResolved=function(){return s.call(this._target())},l.prototype.value=function(){return e.call(this._target())},l.prototype.reason=function(){var e=this._target();return e._unsetRejectionIsUnhandled(),n.call(e)},l.prototype._value=function(){return this._settledValue()},l.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},l.PromiseInspection=t}},{}],33:[function(d,t){"use strict";t.exports=function(_,e){function t(l,t){if(a(l)){if(l instanceof _)return l;var r=n(l);if(r===y){t&&t._pushContext();var i=_.reject(r.e);return t&&t._popContext(),i}if("function"==typeof r){if(o(l)){var i=new _(e);return l._then(i._fulfill,i._reject,void 0,i,null),i}return s(l,r,t)}}return l}function r(e){return e.then}function n(e){try{return r(e)}catch(t){return y.e=t,y}}function o(e){return i.call(e,"_promise0")}function s(n,t,r){function i(e){l&&(l._resolveCallback(e),l=null)}function o(e){l&&(l._rejectCallback(e,c,!0),l=null)}var l=new _(e),s=l;r&&r._pushContext(),l._captureStackTrace(),r&&r._popContext();var c=!0,d=g.tryCatch(t).call(n,i,o);return c=!1,l&&d===y&&(l._rejectCallback(d.e,!0,!0),l=null),s}var g=d("./util"),y=g.errorObj,a=g.isObject,i={}.hasOwnProperty;return t}},{"./util":36}],34:[function(d,t){"use strict";t.exports=function(_,e,h){function r(e){this.handle=e}function i(e){return clearTimeout(this.handle),e}function o(e){throw clearTimeout(this.handle),e}var s=d("./util"),a=_.TimeoutError;r.prototype._resultCancelled=function(){clearTimeout(this.handle)};var n=function(e){return l(+this).thenReturn(e)},l=_.delay=function(i,t){var o,l;return void 0===t?(o=new _(e),l=setTimeout(function(){o._fulfill()},+i),h.cancellation()&&o._setOnCancel(new r(l))):(o=_.resolve(t)._then(n,null,null,i,void 0),h.cancellation()&&t instanceof _&&o._setOnCancel(t)),o._setAsyncGuaranteed(),o};_.prototype.delay=function(e){return l(e,this)};var t=function(o,t,e){var n;n="string"==typeof t?new a(t):t instanceof Error?t:new a("operation timed out"),s.markAsOriginatingFromRejection(n),o._attachExtraTrace(n),o._reject(n),null!=e&&e.cancel()};_.prototype.timeout=function(l,s){l=+l;var e,p,d=new r(setTimeout(function(){e.isPending()&&t(e,s,p)},l));return h.cancellation()?(p=this.then(),e=p._then(i,o,void 0,d,void 0),e._setOnCancel(d)):e=this._then(i,o,void 0,d,void 0),e}}},{"./util":36}],35:[function(g,t){"use strict";t.exports=function(j,e,b,r,C,k){function s(e){setTimeout(function(){throw e},0)}function a(r){var t=b(r);return t!==r&&"function"==typeof r._isDisposable&&"function"==typeof r._getDisposer&&r._isDisposable()&&t._setDisposable(r._getDisposer()),t}function n(e,t){function r(){if(n>=i)return l._fulfill();var p=a(e[n++]);if(p instanceof j&&p._isDisposable()){try{p=b(p._getDisposer().tryDispose(t),e.promise)}catch(e){return s(e)}if(p instanceof j)return p._then(r,s,null,null,null)}r()}var n=0,i=e.length,l=new j(C);return r(),l}function i(r,t,e){this._data=r,this._promise=t,this._context=e}function o(r,t,e){this.constructor$(r,t,e)}function t(e){return i.isDisposer(e)?(this.resources[this.index]._setDisposable(e),e.promise()):e}function l(e){this.length=e,this.promise=null,this[e-1]=null}var u=g("./util"),p=g("./errors").TypeError,c=g("./util").inherits,d=u.errorObj,_=u.tryCatch;i.prototype.data=function(){return this._data},i.prototype.promise=function(){return this._promise},i.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():null},i.prototype.tryDispose=function(o){var t=this.resource(),e=this._context;void 0!==e&&e._pushContext();var n=null===t?null:this.doDispose(t,o);return void 0!==e&&e._popContext(),this._promise._unsetDisposable(),this._data=null,n},i.isDisposer=function(e){return null!=e&&"function"==typeof e.resource&&"function"==typeof e.tryDispose},c(o,i),o.prototype.doDispose=function(r,t){var e=this.data();return e.call(r,r,t)},l.prototype._resultCancelled=function(){for(var e,o=this.length,t=0;o>t;++t)e=this[t],e instanceof j&&e.cancel()},j.using=function(){var r=arguments.length;if(2>r)return e("you must pass at least 2 arguments to Promise.using");var s=arguments[r-1];if("function"!=typeof s)return e("expecting a function but got "+u.classString(s));var h,y=!0;2===r&&Array.isArray(arguments[0])?(h=arguments[0],r=h.length,y=!1):(h=arguments,r--);for(var f,m=new l(r),c=0;r>c;++c){if(f=h[c],i.isDisposer(f)){var F=f;f=f.promise(),f._setDisposable(F)}else{var v=b(f);v instanceof j&&(f=v._then(t,null,null,{resources:m,index:c},void 0))}m[c]=f}for(var g=Array(m.length),c=0;c<g.length;++c)g[c]=j.resolve(m[c]).reflect();var x=j.all(g).then(function(a){for(var t,i=0;i<a.length;++i){if(t=a[i],t.isRejected())return d.e=t.error(),d;if(!t.isFulfilled())return void x.cancel();a[i]=t.value()}E._pushContext(),s=_(s);var l=y?s.apply(void 0,a):s(a),r=E._popContext();return k.checkForgottenReturns(l,r,"Promise.using",E),l}),E=x.lastly(function(){var e=new j.PromiseInspection(x);return n(m,e)});return m.promise=E,E._setOnCancel(m),E},j.prototype._setDisposable=function(e){this._bitField=131072|this._bitField,this._disposer=e},j.prototype._isDisposable=function(){return 0<(131072&this._bitField)},j.prototype._getDisposer=function(){return this._disposer},j.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},j.prototype.disposer=function(e){if("function"==typeof e)return new o(e,this,r());throw new p}}},{"./errors":12,"./util":36}],36:[function(n,t){"use strict";function e(){try{var e=p;return p=null,e.apply(this,arguments)}catch(t){return _.e=t,_}}function r(e){return null==e||!0===e||!1===e||"string"==typeof e||"number"==typeof e}function o(o,t,e){if(r(o))return o;return d.defineProperty(o,t,{value:e,configurable:!0,enumerable:!1,writable:!0}),o}function a(e){try{return e+""}catch(t){return"[no string representation]"}}function i(e){return null!==e&&"object"==("undefined"==typeof e?"undefined":_typeof(e))&&"string"==typeof e.message&&"string"==typeof e.name}function l(e){return i(e)&&d.propertyIsWritable(e,"stack")}function s(e){return{}.toString.call(e)}var p,d=n("./es5"),c="undefined"==typeof navigator,_={e:{}},u="undefined"==typeof self?"undefined"==typeof window?"undefined"==typeof global?void 0===this?null:this:global:window:self,h=function(){var a=[Array.prototype,Object.prototype,Function.prototype],p=function(e){for(var t=0;t<a.length;++t)if(a[t]===e)return!0;return!1};if(d.isES5){var e=Object.getOwnPropertyNames;return function(n){for(var _=[],r=Object.create(null);null!=n&&!p(n);){var i;try{i=e(n)}catch(e){return _}for(var s,u=0;u<i.length;++u)if(s=i[u],!r[s]){r[s]=!0;var h=Object.getOwnPropertyDescriptor(n,s);null!=h&&null==h.get&&null==h.set&&_.push(s)}n=d.getPrototypeOf(n)}return _}}var t={}.hasOwnProperty;return function(e){if(p(e))return[];var r=[];t:for(var n in e)if(t.call(e,n))r.push(n);else{for(var o=0;o<a.length;++o)if(t.call(a[o],n))continue t;r.push(n)}return r}}(),g=/this\s*\.\s*\S+\s*=/,y=/^[a-z$_][a-z$_0-9]*$/i,f=function(){return"stack"in new Error?function(e){return l(e)?e:new Error(a(e))}:function(e){if(l(e))return e;try{throw new Error(a(e))}catch(t){return t}}}(),m=function(e){return d.isArray(e)?e:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var b="function"==typeof Array.from?function(e){return Array.from(e)}:function(o){for(var t,a=[],n=o[Symbol.iterator]();!(t=n.next()).done;)a.push(t.value);return a};m=function(e){return d.isArray(e)?e:null!=e&&"function"==typeof e[Symbol.iterator]?b(e):null}}var C="undefined"!=typeof process&&"[object process]"===s(process).toLowerCase(),v={isClass:function(o){try{if("function"==typeof o){var t=d.names(o.prototype),e=d.isES5&&1<t.length,n=0<t.length&&(1!==t.length||"constructor"!==t[0]),r=g.test(o+"")&&0<d.names(o).length;if(e||n||r)return!0}return!1}catch(e){return!1}},isIdentifier:function(e){return y.test(e)},inheritedDataKeys:h,getDataPropertyOrDefault:function(o,t,e){if(!d.isES5)return{}.hasOwnProperty.call(o,t)?o[t]:void 0;var n=Object.getOwnPropertyDescriptor(o,t);return null==n?void 0:null==n.get&&null==n.set?n.value:e},thrower:function(e){throw e},isArray:d.isArray,asArray:m,notEnumerableProp:o,isPrimitive:r,isObject:function(e){return"function"==typeof e||"object"==("undefined"==typeof e?"undefined":_typeof(e))&&null!==e},isError:i,canEvaluate:c,errorObj:_,tryCatch:function(r){return p=r,e},inherits:function(o,t){function e(){for(var e in this.constructor=o,this.constructor$=t,t.prototype)a.call(t.prototype,e)&&"$"!==e.charAt(e.length-1)&&(this[e+"$"]=t.prototype[e])}var a={}.hasOwnProperty;return e.prototype=t.prototype,o.prototype=new e,o.prototype},withAppended:function(o,t){var e,a=o.length,r=Array(a+1);for(e=0;a>e;++e)r[e]=o[e];return r[e]=t,r},maybeWrapAsError:function(e){return r(e)?new Error(a(e)):e},toFastProperties:function(r){function t(){}t.prototype=r;for(var e=8;e--;)new t;return r},filledRange:function(o,t,e){for(var n=Array(o),r=0;o>r;++r)n[r]=t+r+e;return n},toString:a,canAttachTrace:l,ensureErrorObject:f,originatesFromRejection:function(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===e.isOperational)},markAsOriginatingFromRejection:function(e){try{o(e,"isOperational",!0)}catch(t){}},classString:s,copyDescriptors:function(a,t,e){for(var n,l=d.names(a),r=0;r<l.length;++r)if(n=l[r],e(n))try{d.defineProperty(t,n,d.getDescriptor(a,n))}catch(e){}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:C,env:function(r,t){return C?process.env[r]:t},global:u,getNativePromise:function(){if("function"==typeof Promise)try{var e=new Promise(function(){});if("[object Promise]"==={}.toString.call(e))return Promise}catch(t){}}};v.isRecentNode=v.isNode&&function(){var e=process.versions.node.split(".").map(Number);return 0===e[0]&&10<e[1]||0<e[0]}(),v.isNode&&v.toFastProperties(process);try{throw new Error}catch(e){v.lastLineError=e}t.exports=v},{"./es5":13}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise);var gorilla={};gorilla.after=function(e,t){"use strict";return e.parentNode.insertBefore(t,e.nextElementSibling),e},gorilla.ajax=function(e){"use strict";return new Promise(function(t,r){var n,o;e=e||{},e.method=e.method||"GET",e.method=e.method.toUpperCase(),e.cb=e.cb||function(){},e.params=e.params||{},e.requestContentType=e.requestContentType||"application/x-www-form-urlencoded",n=function(){return Math.floor(Date.now()/1e3)};var a=function(e){var t,r;for(r in t=[],e)Reflect.has(e,r)&&t.push({key:r,value:e[r]});return t},i=function(e){var t,r;for(r in t=[],e)Reflect.has(e,r)&&t.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}(e.params);if(o=new XMLHttpRequest,"GET"===e.method&&i.length&&(e.url=e.url+"?"+i.join("&")),"GET"===e.method&&!1===e.cache&&(-1===e.url.indexOf("?")?e.url=e.url+"?_nocache="+n():e.url=e.url+"&_nocache="+n()),o.open(e.method,e.url),o.setRequestHeader("Content-type",e.requestContentType),e.headers){var l=a(e.headers);l.forEach(function(e){o.setRequestHeader(e.key,e.value)})}"GET"===e.method?o.send(null):i.length?o.send(i.join("&")):o.send(null),o.onreadystatechange=function(){4===o.readyState&&(200===o.status?t(o.responseText):r(o))}})},gorilla.append=function(e,t){"use strict";return t.length?t.forEach(function(t){e.appendChild(t)}):e.appendChild(t),e},gorilla.attr=function(e,t,r){"use strict";var n;if(n=e,"undefined"!=typeof r)"object"===("undefined"==typeof r?"undefined":_typeof(r))&&(r=JSON.stringify(r)),e.setAttribute(t,r+"");else if("object"!==("undefined"==typeof t?"undefined":_typeof(t)))n=e.getAttribute(t);else if(t.length){var o={};gorilla.each(t,function(t){o[t]=e.getAttribute(t)}),n=o}else gorilla.each(t,function(t,r){e.setAttribute(r,t+"")});return n},gorilla.before=function(e,t){"use strict";return e.parentNode.insertBefore(t,e),e},gorilla.compareJSON=function(e,t){"use strict";var r=function(e,t,r){if("object"===_typeof(e[r])){if(!n(e[r],t[r]))return!1;}else if(e[r]!==t[r])return!1},n=function(e,t){for(var n in e)if(Reflect.has(n,e))return!!Reflect.has(n,t)&&r(e,t,n);return!0};return n(e,t)&&n(t,e)},gorilla.copyToClipboard=function(e){"use strict";var t=gorilla.create("textarea").css({position:"absolute",top:"-2px",left:"-2px",height:"1px",width:"1px",border:"0 none"});document.body.appendChild(t),t.value=e,t.select(),document.execCommand("copy"),document.body.removeChild(t)},gorilla.create=function(e,t){"use strict";var r;return r=t?document.createElement(e,t):document.createElement(e),gorilla.find(r).get(0)},gorilla.css=function(e,t){"use strict";var r="",n=e,o=void 0;switch("undefined"==typeof t?"undefined":_typeof(t)){case"string":o=window.getComputedStyle(e),n=o.getPropertyValue(t);break;case"object":Reflect.has(t,"length")?(o=window.getComputedStyle(e),n={},gorilla.each(t,function(e){n[e]=o.getPropertyValue(e)})):(gorilla.each(t,function(e,t){r=r+t+":"+e+";"}),e.setAttribute("style",r));break;case"undefined":o=window.getComputedStyle(e),n={},gorilla.each(o,function(e){n[e]=o.getPropertyValue(e)});break;default:}return n},gorilla.data=function(e,t,r){"use strict";var n;if(n=e,"undefined"!=typeof r)"object"===("undefined"==typeof r?"undefined":_typeof(r))&&(r=JSON.stringify(r)),e.setAttribute("data-"+t,r+"");else if("object"!==("undefined"==typeof t?"undefined":_typeof(t)))n=e.getAttribute("data-"+t);else if(t.length){var o={};gorilla.each(t,function(t){o[t]=e.getAttribute("data-"+t)}),n=o}else gorilla.each(t,function(t,r){"object"===("undefined"==typeof t?"undefined":_typeof(t))&&(t=JSON.stringify(t)),e.setAttribute("data-"+r,t+"")});return n},gorilla.DOMReady=function(e){"use strict";return"complete"===document.readyState?window.setTimeout(e,1):void document.addEventListener("DOMContentLoaded",function(){e()})},gorilla.each=function(e,t){"use strict";if(e.length)for(var r=0,n=e.length;r<n;r++)t(e[r],r);else for(var o in e)Reflect.has(e,o)&&t(e[o],o);return e},gorilla.find=function(e,t){"use strict";var r,n,o,a;r=[];var l=function(e){e.find=function(e){return gorilla.find(e,this)},e.data=function(e,t){return gorilla.data(this,e,t)},e.on=function(e,t){return gorilla.on(this,e,t)},e.attr=function(e,t){return gorilla.attr(this,e,t)},e.html=function(e){return gorilla.html(this,e)},e.prepend=function(e){return gorilla.prepend(this,e)},e.append=function(e){return gorilla.append(this,e)},e.after=function(e){return gorilla.after(this,e)},e.before=function(e){return gorilla.before(this,e)},e.parent=function(){return gorilla.parent(this)},e.next=function(){return gorilla.next(this)},e.prev=function(){return gorilla.prev(this)},e.nodes=function(){return gorilla.nodes(this)},e.remove=function(){return gorilla.remove(this)},e.css=function(e){return gorilla.css(this,e)},e.width=function(e){return gorilla.width(this,e)},e.height=function(e){return gorilla.height(this,e)},e.offset=function(){return gorilla.offset(this)},e.__isGorilla=!0,r.push(e)};if(e){for(n="object"===("undefined"==typeof e?"undefined":_typeof(e))?e.length?e:[e]:t?t.querySelectorAll(e):document.querySelectorAll(e),o=0,a=n.length;o<a;o++)!1===Reflect.has(n[o],"__isGorilla")?l(n[o]):r.push(n[o]);r.each=function(e){return gorilla.each(this,e)},r.get=function(e){return this[e]}}return r},gorilla.getFileContents=function(e,t){"use strict";if(e){var r=new FileReader;r.readAsText(e,"UTF-8"),r.onload=function(r){t(!1,r.target.result,e)},r.onerror=function(){t("Error reading file",null,e)}}else t("file ref not found",null,null)},gorilla.getParsedURL=function(e){"use strict";var t=document.createElement("a");return t.setAttribute("href",e),{hash:t.hash,host:t.host,hostname:t.hostname,href:t.host,pathname:t.pathname,port:t.port&&0<t.port.length?t.port:void 0,protocol:t.protocol.replace(":",""),search:t.search}},gorilla.getUnixtime=function(){"use strict";return parseInt(Math.floor(Date.now()/1e3),10)},gorilla.getURLParams=function(e){"use strict";e=e||window.location.search;var t={},r=document.createElement("a");r.setAttribute("href",e);var n=r.search;return 0===n.length?t:(0===n.indexOf("?")&&(n=n.substring(1)),n.split("&").forEach(function(e){var r=e.split("=");t[r[0].toString()]=r[1]}),t)},gorilla.height=function(e,t){"use strict";var r=e;return void 0===t?r=e.getBoundingClientRect().height:e.style.height=t+"px",r},gorilla.html=function(e,t){"use strict";var r="undefined"==typeof t?"undefined":_typeof(t),n=void 0;switch(n=e,r){case"string":case"boolean":case"number":e.innerHTML=t;break;case"undefined":n=e.innerHTML;break;default:n=!1;}return n},gorilla.loadCSS=function(e){"use strict";return new Promise(function(t,r){var n=gorilla.create("link").attr("rel","stylesheet").attr("href",e);return n.on("error",function(e){r(e)}),n.on("load",function(){t(this)}),gorilla.find("script").get(0).prepend(n)})},gorilla.loadJS=function(e){"use strict";return new Promise(function(t,r){var n=gorilla.create("script").attr("type","text/javascript").attr("async","true").attr("src",e);return n.on("error",function(e){r(e)}),n.on("load",function(){t(this)}),gorilla.find("script").get(0).prepend(n)})},gorilla.log=function(e){"use strict";e=e||"info";var r={info:{bg:"#19cf85",fg:"#272b30"},warn:{bg:"#ffd866",fg:"#272b30"},debug:{bg:"#3c92d1",fg:"#272b30"},error:{bg:"#ff6188",fg:"#272b30"}};!1==e in r&&(e="info");var n=r[e];return function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];window.console.log("%c\uD83E\uDD8D","background:"+n.bg+";color:"+n.fg+";padding:5px;",t)}},gorilla.next=function(e){"use strict";return gorilla.find(e.nextElementSibling).get(0)},gorilla.nodes=function(e){"use strict";var t,r,n,o,a;for(r=[],a=e.children,(n=0,o=a.length);n<o;n++)t=a[n],r.push(gorilla.find(t).get(0));return r},gorilla.offset=function(e){"use strict";var t=e.getBoundingClientRect();return{top:t.top,left:t.left}},gorilla.on=function(e,t,r){"use strict";return e.addEventListener(t,r,!1),e},gorilla.parent=function(e){"use strict";return gorilla.find(e.parentNode).get(0)},gorilla.plugins={},gorilla.prepend=function(e,t){"use strict";return e.parentNode.insertBefore(t,e),e},gorilla.prev=function(e){"use strict";return gorilla.find(e.previousElementSibling).get(0)},gorilla.remove=function(e){"use strict";e.parentNode.removeChild(e)},gorilla.serialize=function(e,t){"use strict";if(t=t||{},e.tagName&&"FORM"===e.tagName){var r={},n=e.elements;return gorilla.each(n,function(e){e.name&&""!==e.name&&(r[e.name]=e.value)}),gorilla.serialize(r)}var o=[],a=t.delimiter||"&",i=t.q||!1;return gorilla.each(e,function(e,r){switch("undefined"==typeof e?"undefined":_typeof(e)){case"boolean":case"string":case"number":t.parentName?o.push(t.parentName+"["+r+"]="+encodeURIComponent(e)):o.push(r+"="+encodeURIComponent(e));break;case"object":t.parentName&&(r=t.parentName+"["+r+"]"),o.push(gorilla.serialize(e,{delimiter:t.delimiter,parentName:r}));break;default:}}),(!0===i?"?":"")+o.join(a)},gorilla.stringEndsWith=function(e,t){"use strict";return-1!==e.indexOf(t,e.length-t.length)},gorilla.stringFormat=function(){"use strict";return function(e){for(var t=arguments.length,r=Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.forEach(function(t){e=e.replace(/%[^ ]*/,t)}),e}}(),gorilla.version="2.3.0",gorilla.waitForElementToBePresent=function(e,t,r){"use strict";return r=r||{},r.timeout=r.timeout||5e3,r.interval=r.interval||250,setTimeout(function(){var n=document.querySelector(e);null===n?(r.timeout!==Number.Infinity&&(r.timeout-=r.interval),0<r.timeout?gorilla.waitForElementToBePresent(e,t,r):t("Could not find "+e,null)):t(!1,n)},r.interval)},gorilla.width=function(e,t){"use strict";var r=e;return void 0===t?r=e.getBoundingClientRect().width:e.style.width=t+"px",r};